[env]
# Align with Homebrew FFmpeg builds to avoid macOS 14â†’15 linker warnings.
MACOSX_DEPLOYMENT_TARGET = "15.0"
# Use paths relative to the workspace root; Cargo will expand them to absolute before passing to build scripts.
FFMPEG_DIR = { value = "target/ffmpeg-min", relative = true }
PKG_CONFIG_PATH = { value = "target/ffmpeg-min/lib/pkgconfig", relative = true }
ORT_LIB_LOCATION = { value = "target/onnxruntime/build/MinSizeRel", relative = true }

[build]
rustflags = [
  "-L", "target/onnxruntime/build/MinSizeRel/_deps/re2-build",
]

[target.x86_64-pc-windows-msvc]
rustflags = [
  "-L", "target/onnxruntime/build/MinSizeRel/_deps/re2-build",
  "-l", "advapi32",
  "-l", "dxcore",
]
